{"version":3,"sources":["Dialog.tsx"],"names":["Dialog","React","Component","constructor","props","prevProps","isDark","setState","prevState","styles","__styles","config","state","visible","_timeout","clearTimeout","_startAnimation","ACTION","CLOSE","Promise","resolve","OPEN","onHide","undefined","autoClose","duration","ENV","AUTO_CLOSE","setTimeout","_close","onShow","action","opacity","open","animations","Animated","timing","_opacity","toValue","useNativeDriver","_positionDialog","WINDOWS","HEIGHT","_popupHeight","bounciness","filter","Boolean","reverse","sequence","start","type","onPressButton","button","buttonLabel","closeOnOverlayTap","flex","title","textBody","_buttonRender","nativeEvent","layout","height","StyleSheet","flatten","cardContainer","transform","translateY","backendImage","image","cardBody","titleLabel","descLabel","cardFooter","_OverlayCloseRender","_CardRender","_showModalHandler","backgroundContainer","Value","createRef","args","instance","current","_open","create","absoluteFillObject","backgroundColor","alignSelf","maxWidth","width","minHeight","borderRadius","paddingHorizontal","paddingTop","paddingBottom","position","Color","get","justifyContent","alignItems","overflow","fontWeight","fontSize","color","textAlign","marginTop","ALERT_TYPE","SUCCESS","DANGER","WARNING","aspectRatio","top","tintColor"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Animated, Image, Modal, Pressable, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport ENV, { ACTION, ALERT_TYPE } from '../config/ENV';\nimport { Color, getImage } from '../service';\n\nexport type IConfig = {\n  type: ALERT_TYPE;\n  title?: string;\n  textBody?: string;\n  button?: string;\n  autoClose?: number | boolean;\n  closeOnOverlayTap?: boolean;\n  onPressButton?: () => void;\n  onShow?: () => void;\n  onHide?: () => void;\n};\n\ntype IProps = {\n  isDark: boolean;\n  config?: Pick<IConfig, 'closeOnOverlayTap' | 'autoClose'>;\n};\n\ntype IState = {\n  styles: ReturnType<typeof __styles>;\n  overlayClose?: boolean;\n  visible: boolean;\n  config?: IConfig;\n};\n\nclass Dialog extends React.Component<IProps, IState> {\n  /**\n   * @type {React.RefObject<Dialog>}\n   */\n  public static instance: React.RefObject<Dialog> = React.createRef();\n\n  /**\n   * @param {IConfig} args\n   */\n  public static show = (args: IConfig): void => {\n    Dialog.instance.current?._open(args);\n  };\n\n  /**\n   *\n   */\n  public static hide = (): void => {\n    Dialog.instance.current?._close();\n  };\n\n  private _timeout?: NodeJS.Timeout;\n\n  /**\n   * @type {Animated.Value}\n   * @private\n   */\n  private readonly _opacity: Animated.Value;\n\n  /**\n   * @type {Animated.Value}\n   * @private\n   */\n  private readonly _positionDialog: Animated.Value;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  private _popupHeight: number;\n\n  /**\n   * @param {IProps} props\n   */\n  constructor(props: IProps) {\n    super(props);\n    this._opacity = new Animated.Value(0);\n    this._positionDialog = new Animated.Value(ENV.WINDOWS.HEIGHT + 30);\n    this._popupHeight = 0;\n\n    this.state = {\n      styles: __styles(props.isDark),\n      visible: false,\n    };\n  }\n\n  /**\n   * @param {Readonly<IProps>} prevProps\n   */\n  public componentDidUpdate = (prevProps: Readonly<IProps>): void => {\n    if (prevProps.isDark !== this.props.isDark) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState((prevState) => ({ ...prevState, styles: __styles(this.props.isDark) }));\n    }\n  };\n\n  /**\n   * @param {IConfig} config\n   */\n  private _open = async (config: IConfig): Promise<void> => {\n    if (this.state.visible) {\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n      }\n      await this._startAnimation(ACTION.CLOSE, false);\n      await new Promise<void>((resolve) => this.setState((prevState) => ({ ...prevState, config }), resolve));\n      await this._startAnimation(ACTION.OPEN);\n      return;\n    }\n\n    this.setState((prevState) => ({ ...prevState, visible: true, config }));\n  };\n\n  /**\n   * @return {Promise<void>}\n   */\n  private _close = async (): Promise<void> => {\n    if (!this.state.visible) {\n      return;\n    }\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    await this._startAnimation(ACTION.CLOSE);\n    const onHide = this.state.config?.onHide;\n    await new Promise<void>((resolve) => this.setState((prevState) => ({ ...prevState, config: undefined, visible: false }), resolve));\n    onHide?.();\n  };\n\n  /**\n   * @return {Promise<void>}\n   */\n  private _showModalHandler = async (): Promise<void> => {\n    await this._startAnimation(ACTION.OPEN);\n    const autoClose = this.state.config?.autoClose !== undefined ? this.state.config?.autoClose : this.props.config?.autoClose;\n    if (autoClose) {\n      const duration = typeof autoClose === 'number' ? autoClose : ENV.AUTO_CLOSE;\n      this._timeout = setTimeout(() => {\n        this._close();\n      }, duration);\n    }\n    this.state.config!.onShow?.();\n  };\n\n  /**\n   * @param {ACTION} action\n   * @param opacity\n   * @return {Promise<void>}\n   */\n  private _startAnimation = (action: ACTION, opacity: boolean = true): Promise<void> => {\n    const open = action === ACTION.OPEN;\n\n    let animations = [\n      opacity\n        ? Animated.timing(this._opacity, {\n            toValue: action === ACTION.OPEN ? 1 : 0,\n            duration: 300,\n            useNativeDriver: false,\n          })\n        : null!,\n      Animated[open ? 'spring' : 'timing'](this._positionDialog, {\n        toValue: open ? ENV.WINDOWS.HEIGHT / 2 - this._popupHeight / 2 : ENV.WINDOWS.HEIGHT + 30,\n        ...(open ? { bounciness: 12 } : { duration: 250 }),\n        useNativeDriver: true,\n      }),\n    ].filter(Boolean);\n\n    if (!open) {\n      animations = animations.reverse();\n    }\n\n    return new Promise((resolve) => {\n      Animated.sequence(animations).start(() => resolve());\n    });\n  };\n\n  /**\n   * @return {JSX.Element}\n   */\n  private _buttonRender = (): JSX.Element => {\n    const { styles } = this.state;\n    const { type, onPressButton, button } = this.state.config!;\n    if (button) {\n      return (\n        <TouchableOpacity style={[styles.button, styles[type]]} onPress={onPressButton ?? this._close}>\n          <Text style={styles.buttonLabel}>{button}</Text>\n        </TouchableOpacity>\n      );\n    }\n    return <></>;\n  };\n\n  /**\n   * @return {JSX.Element}\n   */\n  private _OverlayCloseRender = (): JSX.Element => {\n    if (this.state.config?.closeOnOverlayTap === false ? false : this.props.config?.closeOnOverlayTap !== false) {\n      // eslint-disable-next-line react-native/no-inline-styles\n      return <Pressable onPressIn={this._close} style={{ flex: 1 }} />;\n    }\n    return <></>;\n  };\n\n  /**\n   * @return {JSX.Element}\n   */\n  private _CardRender = (): JSX.Element => {\n    if (!this.state.config) {\n      return <></>;\n    }\n\n    const {\n      styles,\n      config: { title, type, textBody },\n    } = this.state;\n    const { _buttonRender } = this;\n    return (\n      <Animated.View\n        onLayout={({\n          nativeEvent: {\n            layout: { height },\n          },\n        }) => (this._popupHeight = height)}\n        style={StyleSheet.flatten([styles.cardContainer, { transform: [{ translateY: this._positionDialog }] }])}\n      >\n        <View style={styles.backendImage} />\n        <Image source={getImage(type)} resizeMode=\"contain\" style={StyleSheet.flatten([styles.image, styles[`${type}Image`]])} />\n        <View style={styles.cardBody}>\n          {title && <Text style={styles.titleLabel}>{title}</Text>}\n          {textBody && <Text style={styles.descLabel}>{textBody}</Text>}\n        </View>\n        <View style={styles.cardFooter}>\n          <_buttonRender />\n        </View>\n      </Animated.View>\n    );\n  };\n\n  /**\n   * @return {JSX.Element}\n   */\n  public render = (): JSX.Element => {\n    const { visible, styles } = this.state;\n    const { _OverlayCloseRender, _CardRender } = this;\n    return (\n      <Modal transparent={true} visible={visible} animated={false} onShow={this._showModalHandler}>\n        <Animated.View style={StyleSheet.flatten([styles.backgroundContainer, { opacity: this._opacity }])} />\n        <_OverlayCloseRender />\n        <_CardRender />\n      </Modal>\n    );\n  };\n}\n\nconst __styles = (isDark: boolean) =>\n  StyleSheet.create({\n    backgroundContainer: {\n      ...StyleSheet.absoluteFillObject,\n      backgroundColor: '#00000070',\n    },\n    cardContainer: {\n      alignSelf: 'center',\n      maxWidth: 400,\n      width: '80%',\n      minHeight: 250,\n      borderRadius: 24,\n      paddingHorizontal: 12,\n      paddingTop: 50,\n      paddingBottom: 24,\n      position: 'absolute',\n      backgroundColor: Color.get('card', isDark),\n    },\n\n    cardBody: {\n      flex: 1,\n      justifyContent: 'space-evenly',\n      alignItems: 'center',\n      overflow: 'hidden',\n    },\n    cardFooter: {},\n\n    titleLabel: {\n      fontWeight: 'bold',\n      fontSize: 20,\n      color: Color.get('label', isDark),\n    },\n    descLabel: {\n      textAlign: 'center',\n      color: Color.get('label', isDark),\n    },\n    button: {\n      borderRadius: 50,\n      height: 40,\n      width: 130,\n      justifyContent: 'center',\n      alignItems: 'center',\n      alignSelf: 'center',\n      marginTop: 12,\n    },\n    buttonLabel: {\n      color: '#fff',\n      fontWeight: 'bold',\n      fontSize: 16,\n    },\n    [ALERT_TYPE.SUCCESS]: {\n      backgroundColor: Color.get('success', isDark),\n    },\n    [ALERT_TYPE.DANGER]: {\n      backgroundColor: Color.get('danger', isDark),\n    },\n    [ALERT_TYPE.WARNING]: {\n      backgroundColor: Color.get('warning', isDark),\n    },\n    backendImage: {\n      position: 'absolute',\n      alignSelf: 'center',\n      justifyContent: 'center',\n      height: 50,\n      width: 50,\n      backgroundColor: '#FBFBFB',\n      borderRadius: 100,\n      marginTop: -10,\n    },\n    image: {\n      alignSelf: 'center',\n      width: 80,\n      aspectRatio: 1,\n      position: 'absolute',\n      top: -30,\n    },\n\n    [`${ALERT_TYPE.SUCCESS}Image`]: {\n      tintColor: Color.get('success', isDark),\n    },\n    [`${ALERT_TYPE.DANGER}Image`]: {\n      tintColor: Color.get('danger', isDark),\n    },\n    [`${ALERT_TYPE.WARNING}Image`]: {\n      tintColor: Color.get('warning', isDark),\n    },\n  });\n\nexport default Dialog;\n"]}