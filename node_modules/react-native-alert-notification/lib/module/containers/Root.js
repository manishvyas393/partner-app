import * as React from 'react';
import { useContext } from 'react';
import { useColorScheme, View } from 'react-native';
import { SafeAreaInsetsContext, SafeAreaProvider } from 'react-native-safe-area-context';
import { Dialog, Toast } from '../index';
import { Color } from '../service';

const Root = ({
  theme,
  colors,
  children,
  dialogConfig,
  toastConfig
}) => {
  const colorScheme = useColorScheme();
  const safeAreaInsetsContext = useContext(SafeAreaInsetsContext);
  Color.colorsCustom = colors;
  const isDark = (theme !== null && theme !== void 0 ? theme : colorScheme) === 'dark';

  if (safeAreaInsetsContext === null) {
    return /*#__PURE__*/React.createElement(SafeAreaProvider, null, /*#__PURE__*/React.createElement(View, {
      style: {
        flex: 1
      }
    }, /*#__PURE__*/React.createElement(Dialog, {
      ref: Dialog.instance,
      isDark: isDark,
      config: dialogConfig
    }), /*#__PURE__*/React.createElement(Toast, {
      ref: Toast.instance,
      isDark: isDark,
      config: toastConfig
    }), children));
  }

  return (
    /*#__PURE__*/
    // eslint-disable-next-line react-native/no-inline-styles
    React.createElement(View, {
      style: {
        flex: 1
      }
    }, /*#__PURE__*/React.createElement(Dialog, {
      ref: Dialog.instance,
      isDark: isDark,
      config: dialogConfig
    }), /*#__PURE__*/React.createElement(Toast, {
      ref: Toast.instance,
      isDark: isDark,
      config: toastConfig
    }), children)
  );
};

export default Root;
//# sourceMappingURL=Root.js.map